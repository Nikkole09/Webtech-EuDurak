import{a as J}from"./chunk-KXY6GXWQ.js";import{a as V,c as N,d as E,e as O,f as k,g as A,j as B,l as T,n as W,o as R,p as D,q,r as j,s as U}from"./chunk-TYZA4MYZ.js";import{a as K,b as Q}from"./chunk-COKB4VV7.js";import{k as z,l as G,m as H}from"./chunk-DAQLCOVL.js";import{Aa as S,Bb as X,Ca as f,Da as v,M as p,N as s,Na as y,Qa as o,Ra as h,Ua as M,Va as w,Wa as _,aa as a,da as g,fa as b,ja as C,lb as P,nb as I,oa as x,ra as c,sa as e,ta as i,yb as L,zb as F}from"./chunk-ZKDIBBO6.js";function Z(m,l){if(m&1&&(e(0,"div",13),o(1),i()),m&2){let n=v();a(),h(n.error)}}var Y=class m{constructor(l,n){this.auth=l;this.router=n}username="";password="";hidePw=!0;error="";onSubmit(l){l.invalid||(this.error="",this.auth.login(this.username.trim(),this.password).subscribe({next:()=>this.router.navigateByUrl("/lobbies"),error:n=>this.error=n?.error?.error||"Login fehlgeschlagen"}))}static \u0275fac=function(n){return new(n||m)(g(X),g(L))};static \u0275cmp=b({type:m,selectors:[["app-login"]],decls:24,vars:6,consts:[["loginForm","ngForm"],[1,"auth-bg"],[1,"auth-card"],[1,"title"],[1,"form",3,"ngSubmit"],["appearance","fill",1,"full"],["matInput","","name","username","required","",3,"ngModelChange","ngModel"],["matInput","","name","password","required","",3,"ngModelChange","type","ngModel"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"action"],[1,"hint"],["routerLink","/register"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,t){if(n&1){let d=S();e(0,"div",1)(1,"div",2)(2,"h1",3),o(3,"Anmelden"),i(),e(4,"form",4,0),f("ngSubmit",function(){p(d);let r=y(5);return s(t.onSubmit(r))}),e(6,"mat-form-field",5)(7,"mat-label"),o(8,"Username"),i(),e(9,"input",6),_("ngModelChange",function(r){return p(d),w(t.username,r)||(t.username=r),s(r)}),i()(),e(10,"mat-form-field",5)(11,"mat-label"),o(12,"Passwort"),i(),e(13,"input",7),_("ngModelChange",function(r){return p(d),w(t.password,r)||(t.password=r),s(r)}),i(),e(14,"button",8),f("click",function(){return p(d),s(t.hidePw=!t.hidePw)}),e(15,"mat-icon"),o(16),i()()(),e(17,"button",9),o(18,"Login"),i(),e(19,"div",10),o(20," Kein Account? "),e(21,"a",11),o(22,"Jetzt registrieren"),i()(),C(23,Z,2,1,"div",12),i()()()}n&2&&(a(9),M("ngModel",t.username),a(4),c("type",t.hidePw?"password":"text"),M("ngModel",t.password),a(),x("aria-label","toggle"),a(2),h(t.hidePw?"visibility":"visibility_off"),a(7),c("ngIf",t.error))},dependencies:[I,P,T,A,V,N,E,B,k,O,F,q,D,W,R,U,j,H,G,z,J,Q,K],styles:[".auth-bg[_ngcontent-%COMP%]{min-height:100vh;background:url(/assets/Hintergrund.png) center/cover no-repeat fixed;display:grid;place-items:center;padding:16px}.auth-card[_ngcontent-%COMP%]{width:min(420px,95vw);background:#fff;border-radius:16px;box-shadow:0 10px 30px #0000002e;border:2px solid #a49ca8;padding:22px 20px}.title[_ngcontent-%COMP%]{margin:6px 0 12px;text-align:center;font-weight:700;letter-spacing:.2px}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.full[_ngcontent-%COMP%]{width:100%}.action[_ngcontent-%COMP%]{width:100%;margin-top:4px}.hint[_ngcontent-%COMP%]{text-align:center;margin-top:6px}.error[_ngcontent-%COMP%]{color:#c62828;margin-top:8px;text-align:center}"]})};export{Y as LoginComponent};
