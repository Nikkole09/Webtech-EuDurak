import{a as U}from"./chunk-KXY6GXWQ.js";import{a as E,c as V,d as N,e as F,f as O,g as W,j as T,l as L,n as A,p as B,q as k,r as D,s as q}from"./chunk-TYZA4MYZ.js";import{l as j,m as H}from"./chunk-DAQLCOVL.js";import{Aa as b,Bb as G,Ca as v,Da as _,M as l,N as p,Na as S,Qa as o,Ra as w,Ua as g,Va as c,Wa as u,aa as s,da as h,fa as C,ja as x,lb as y,nb as P,ra as M,sa as e,ta as i,yb as R,zb as I}from"./chunk-ZKDIBBO6.js";function z(a,m){if(a&1&&(e(0,"div",14),o(1),i()),a&2){let r=_();s(),w(r.error)}}function J(a,m){if(a&1&&(e(0,"div",15),o(1),i()),a&2){let r=_();s(),w(r.success)}}var Z=class a{constructor(m,r){this.auth=m;this.router=r}username="";password="";confirm="";error="";success="";onSubmit(m){if(!m.invalid){if(this.error="",this.success="",this.password!==this.confirm){this.error="Passw\xF6rter stimmen nicht \xFCberein";return}this.auth.register(this.username.trim(),this.password).subscribe({next:()=>{this.success="Registrierung erfolgreich! Du wirst weitergeleitet \u2026",setTimeout(()=>this.router.navigateByUrl("/login"),900)},error:r=>this.error=r?.error?.error||"Registrierung fehlgeschlagen"})}}static \u0275fac=function(r){return new(r||a)(h(G),h(R))};static \u0275cmp=C({type:a,selectors:[["app-register"]],decls:26,vars:5,consts:[["f","ngForm"],[1,"auth-bg"],[1,"auth-card"],[1,"title"],[1,"form",3,"ngSubmit"],["appearance","fill",1,"full"],["matInput","","name","username","required","",3,"ngModelChange","ngModel"],["matInput","","type","password","name","password","required","",3,"ngModelChange","ngModel"],["matInput","","type","password","name","confirm","required","",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit",1,"action"],[1,"hint"],["routerLink","/login"],["class","error",4,"ngIf"],["class","success",4,"ngIf"],[1,"error"],[1,"success"]],template:function(r,n){if(r&1){let d=b();e(0,"div",1)(1,"div",2)(2,"h1",3),o(3,"Registrieren"),i(),e(4,"form",4,0),v("ngSubmit",function(){l(d);let t=S(5);return p(n.onSubmit(t))}),e(6,"mat-form-field",5)(7,"mat-label"),o(8,"Username"),i(),e(9,"input",6),u("ngModelChange",function(t){return l(d),c(n.username,t)||(n.username=t),p(t)}),i()(),e(10,"mat-form-field",5)(11,"mat-label"),o(12,"Passwort"),i(),e(13,"input",7),u("ngModelChange",function(t){return l(d),c(n.password,t)||(n.password=t),p(t)}),i()(),e(14,"mat-form-field",5)(15,"mat-label"),o(16,"Passwort best\xE4tigen"),i(),e(17,"input",8),u("ngModelChange",function(t){return l(d),c(n.confirm,t)||(n.confirm=t),p(t)}),i()(),e(18,"button",9),o(19,"Account erstellen"),i(),e(20,"div",10),o(21," Schon einen Account? "),e(22,"a",11),o(23,"Zum Login"),i()(),x(24,z,2,1,"div",12)(25,J,2,1,"div",13),i()()()}r&2&&(s(9),g("ngModel",n.username),s(4),g("ngModel",n.password),s(4),g("ngModel",n.confirm),s(7),M("ngIf",n.error),s(),M("ngIf",n.success))},dependencies:[P,y,L,W,E,V,N,T,O,F,I,k,B,A,q,D,H,j,U],styles:[".auth-bg[_ngcontent-%COMP%]{min-height:100vh;background:url(/assets/Hintergrund.png) center/cover no-repeat fixed;display:grid;place-items:center;padding:16px}.auth-bg[_ngcontent-%COMP%]{min-height:100vh;background:url(/assets/Hintergrund.png) center/cover no-repeat fixed;display:grid;place-items:center;padding:16px}.auth-card[_ngcontent-%COMP%]{width:min(420px,95vw);background:#fff;border-radius:16px;box-shadow:0 10px 30px #0000002e;border:2px solid #a49ca8;padding:22px 20px}.title[_ngcontent-%COMP%]{margin:6px 0 12px;text-align:center;font-weight:700;letter-spacing:.2px}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.full[_ngcontent-%COMP%]{width:100%}.action[_ngcontent-%COMP%]{width:100%;margin-top:4px}.hint[_ngcontent-%COMP%]{text-align:center;margin-top:6px}.error[_ngcontent-%COMP%]{color:#c62828;margin-top:8px;text-align:center}.success[_ngcontent-%COMP%]{color:#2e7d32;margin-top:8px;text-align:center}"]})};export{Z as RegisterComponent};
